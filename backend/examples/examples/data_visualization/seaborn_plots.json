{
  "id": "data_visualization_2",
  "title": "Seaborn统计可视化",
  "description": "使用Seaborn进行统计数据可视化",
  "code": "import seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\n# 设置中文显示\nplt.rcParams['font.sans-serif'] = ['SimHei']\nplt.rcParams['axes.unicode_minus'] = False\n\n# 设置Seaborn样式\nsns.set_style('whitegrid')\n\n# 创建示例数据\nnp.random.seed(0)\n\n# 创建数据框\ndf = pd.DataFrame({\n    '组别': np.repeat(['A组', 'B组', 'C组', 'D组'], 100),\n    '得分': np.concatenate([\n        np.random.normal(80, 10, 100),\n        np.random.normal(85, 8, 100),\n        np.random.normal(90, 12, 100),\n        np.random.normal(75, 15, 100)\n    ]),\n    '时间': np.random.uniform(10, 60, 400),\n    '类型': np.random.choice(['类型1', '类型2', '类型3'], 400)\n})\n\n# 1. 分布图\nplt.figure(figsize=(12, 5))\n\n# 直方图和核密度图\nplt.subplot(121)\nsns.histplot(data=df, x='得分', hue='组别', multiple='stack')\nplt.title('各组得分分布直方图')\n\nplt.subplot(122)\nsns.kdeplot(data=df, x='得分', hue='组别')\nplt.title('各组得分密度图')\n\nplt.tight_layout()\nplt.show()\n\n# 2. 箱线图和小提琴图\nplt.figure(figsize=(12, 5))\n\nplt.subplot(121)\nsns.boxplot(data=df, x='组别', y='得分')\nplt.title('各组得分箱线图')\n\nplt.subplot(122)\nsns.violinplot(data=df, x='组别', y='得分')\nplt.title('各组得分小提琴图')\n\nplt.tight_layout()\nplt.show()\n\n# 3. 散点图和回归图\nplt.figure(figsize=(12, 5))\n\nplt.subplot(121)\nsns.scatterplot(data=df, x='时间', y='得分', hue='组别', style='类型')\nplt.title('得分-时间散点图')\n\nplt.subplot(122)\nsns.regplot(data=df, x='时间', y='得分')\nplt.title('得分-时间回归图')\n\nplt.tight_layout()\nplt.show()\n\n# 4. 热力图\n# 创建相关系数矩阵\ncorr_matrix = df.select_dtypes(include=[np.number]).corr()\n\nplt.figure(figsize=(8, 6))\nsns.heatmap(corr_matrix, annot=True, cmap='coolwarm', center=0)\nplt.title('相关系数热力图')\nplt.show()\n\n# 5. 分类图\nplt.figure(figsize=(12, 5))\n\n# 计数图\nplt.subplot(121)\nsns.countplot(data=df, x='组别', hue='类型')\nplt.title('各组类型计数')\n\n# 带误差线的条形图\nplt.subplot(122)\nsns.barplot(data=df, x='组别', y='得分', ci=95)\nplt.title('各组平均得分（95%置信区间）')\n\nplt.tight_layout()\nplt.show()\n\n# 6. 多变量关系图\n# Pair plot\nsns.pairplot(df.select_dtypes(include=[np.number]), diag_kind='kde')\nplt.suptitle('变量关系矩阵图', y=1.02)\nplt.show()\n\n# 7. 联合分布图\nplt.figure(figsize=(10, 8))\nsns.jointplot(\n    data=df,\n    x='时间',\n    y='得分',\n    hue='组别',\n    kind='scatter'\n)\nplt.suptitle('时间-得分联合分布图', y=1.02)\nplt.show()",
  "category_id": "data_visualization",
  "tags": ["seaborn", "数据可视化", "统计图表"],
  "use_count": 0,
  "created_at": "2024-01-23T00:00:00",
  "updated_at": "2024-01-23T00:00:00"
} 